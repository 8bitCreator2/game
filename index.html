<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stardust Incremental</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #0b1020;
      --panel: #131a33;
      --text: #e7ecff;
      --accent: #7dd3fc;
      --good: #86efac;
      --muted: #9fb2e5;
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: radial-gradient(circle at 20% 20%, #1f2f6d 0%, var(--bg) 45%, #060914 100%);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
    }

    .app {
      width: min(900px, 92vw);
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), transparent), var(--panel);
      border: 1px solid rgba(125, 211, 252, 0.2);
      border-radius: 16px;
      padding: 1.2rem;
      box-shadow: 0 20px 60px rgba(2, 6, 23, 0.65);
    }

    h1 {
      margin: 0 0 0.6rem;
      font-size: clamp(1.4rem, 3vw, 2rem);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.6rem;
      margin-bottom: 1rem;
    }

    .card {
      background: rgba(9, 16, 37, 0.7);
      border: 1px solid rgba(159, 178, 229, 0.2);
      border-radius: 12px;
      padding: 0.8rem;
    }

    .value {
      font-size: 1.35rem;
      color: var(--good);
      font-variant-numeric: tabular-nums;
      font-weight: 700;
    }

    .upgrades {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.75rem;
    }

    button {
      width: 100%;
      border: 1px solid rgba(125, 211, 252, 0.35);
      border-radius: 10px;
      background: #0c1638;
      color: var(--text);
      padding: 0.7rem;
      cursor: pointer;
      transition: transform 0.1s ease, border-color 0.15s ease;
      margin-top: 0.5rem;
    }

    button:hover:not(:disabled) {
      transform: translateY(-1px);
      border-color: var(--accent);
    }

    button:disabled {
      opacity: 0.45;
      cursor: not-allowed;
    }

    .muted {
      color: var(--muted);
      font-size: 0.92rem;
      line-height: 1.35;
      margin: 0.2rem 0;
    }
  </style>
</head>
<body>
  <main class="app">
    <h1>✨ Stardust Incremental</h1>

    <section class="stats">
      <article class="card">
        <div class="muted">Current Stardust</div>
        <div class="value" id="stardust">0</div>
      </article>
      <article class="card">
        <div class="muted">Generation / second</div>
        <div class="value" id="gps">1</div>
      </article>
      <article class="card">
        <div class="muted">Current Boosts</div>
        <div class="muted" id="boosts"></div>
      </article>
    </section>

    <section class="upgrades">
      <article class="card">
        <strong>Upgrade 1 — Cosmic Dust Scoop</strong>
        <p class="muted">Adds +1 to base generation each level.</p>
        <p class="muted" id="u1"></p>
        <button id="buy1">Buy</button>
      </article>

      <article class="card">
        <strong>Upgrade 2 — Nebula Amplifier</strong>
        <p class="muted">Increases total generation by its current % each level.</p>
        <p class="muted" id="u2"></p>
        <button id="buy2">Buy</button>
      </article>

      <article class="card">
        <strong>Upgrade 3 — Quantum Calibration</strong>
        <p class="muted">Increases Upgrade 2 base effect by +10% each level.</p>
        <p class="muted" id="u3"></p>
        <button id="buy3">Buy</button>
      </article>

      <article class="card">
        <strong>Upgrade 4 — Stellar Overcharge</strong>
        <p class="muted">Multiplies Upgrade 2 base effect by 100% each level (x2).</p>
        <p class="muted" id="u4"></p>
        <button id="buy4">Buy</button>
      </article>
    </section>
  </main>

  <script>
    const game = {
      stardust: 0,
      upgrades: [0, 0, 0, 0],
      baseCosts: [10, 20, 35, 60]
    };

    const format = (n, digits = 2) => n.toLocaleString(undefined, { maximumFractionDigits: digits });

    const upgradeCost = (index) => Math.floor(game.baseCosts[index] * Math.pow(1.45 + index * 0.1, game.upgrades[index]));

    const upgrade2BasePercent = () => {
      const base = 20;
      const calibrationBoost = 1 + game.upgrades[2] * 0.10;
      const overchargeBoost = Math.pow(2, game.upgrades[3]);
      return base * calibrationBoost * overchargeBoost;
    };

    const generationPerSecond = () => {
      const baseGen = 1 + game.upgrades[0];
      const u2PercentEach = upgrade2BasePercent();
      const u2Multiplier = Math.pow(1 + u2PercentEach / 100, game.upgrades[1]);
      return baseGen * u2Multiplier;
    };

    function buyUpgrade(index) {
      const cost = upgradeCost(index);
      if (game.stardust < cost) return;
      game.stardust -= cost;
      game.upgrades[index] += 1;
      render();
    }

    function render() {
      const gps = generationPerSecond();
      document.getElementById('stardust').textContent = format(game.stardust);
      document.getElementById('gps').textContent = format(gps, 3);

      const u2Base = upgrade2BasePercent();
      document.getElementById('boosts').innerHTML = [
        `Base generation: <b>${format(1 + game.upgrades[0])}</b>/s`,
        `Upgrade 2 base effect: <b>${format(u2Base)}%</b>`,
        `Upgrade 2 total levels: <b>${game.upgrades[1]}</b>`,
        `Total generation multiplier: <b>x${format(Math.pow(1 + u2Base / 100, game.upgrades[1]))}</b>`
      ].join('<br>');

      const labels = [
        `Level: ${game.upgrades[0]} | Next Cost: ${upgradeCost(0)} Stardust`,
        `Level: ${game.upgrades[1]} | Current per-level boost: ${format(u2Base)}% | Next Cost: ${upgradeCost(1)} Stardust`,
        `Level: ${game.upgrades[2]} | Next Cost: ${upgradeCost(2)} Stardust`,
        `Level: ${game.upgrades[3]} | Next Cost: ${upgradeCost(3)} Stardust`
      ];

      ['u1', 'u2', 'u3', 'u4'].forEach((id, i) => {
        document.getElementById(id).textContent = labels[i];
        document.getElementById(`buy${i + 1}`).disabled = game.stardust < upgradeCost(i);
      });
    }

    document.getElementById('buy1').addEventListener('click', () => buyUpgrade(0));
    document.getElementById('buy2').addEventListener('click', () => buyUpgrade(1));
    document.getElementById('buy3').addEventListener('click', () => buyUpgrade(2));
    document.getElementById('buy4').addEventListener('click', () => buyUpgrade(3));

    setInterval(() => {
      game.stardust += generationPerSecond() / 20;
      render();
    }, 50);

    render();
  </script>
</body>
</html>
